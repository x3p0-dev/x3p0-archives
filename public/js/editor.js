(()=>{var e,r={712:(e,r,t)=>{"use strict";var a=t(893);const n=(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false",children:(0,a.jsx)("path",{d:"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5zM8 12.8h8v-1.5H8v1.5zm0 3h8v-1.5H8v1.5z"})});t(184);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var l=lodash,c=(l.get,l.includes,l.invoke,l.isUndefined,l.pickBy,wp.date),p=c.date,u=c.dateI18n,h=c.format,v=wp.coreData.store,f=wp.i18n,d=f.__,b=(f._n,f.sprintf,wp.data.useSelect),y=wp.components,g=y.PanelBody,x=y.Placeholder,m=(y.QueryControls,y.SelectControl),O=y.Spinner,j=(y.TextControl,wp.element),_=(j.RawHTML,j.useMemo),w=wp.blockEditor,k=(w.BlockControls,w.InspectorControls),S=w.useBlockProps,P=function(e){return e.preventDefault()};const T=JSON.parse('{"apiVersion":2,"name":"x3p0/archives","title":"X3P0 Archives","category":"widgets","description":"Displays a site archives list, broken down by month.","keywords":["archives"],"textdomain":"x3p0-archives","icon":"","attributes":{"postType":{"type":"string","default":"post"},"order":{"type":"string","default":"desc"},"year":{"type":"string","default":""},"month":{"type":"string","default":""},"headingTag":{"type":"string","default":"h2"}},"supports":{"anchor":true,"align":true,"html":false,"__experimentalBorder":true,"color":{"gradients":true,"link":true},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalFontFamily":true,"__experimentalTextTransform":true}},"style":"x3p0-archives","editorStyle":"x3p0-archives-editor","editorScript":"x3p0-archives-editor"}');var A={icon:n,edit:function(e){var r,t=e.attributes,o=e.setAttributes,s=(e.clientId,(r=b((function(e){var r,t=e(v).getPostTypes,a=["attachment"];return{postTypes:null===(r=t({per_page:-1}))||void 0===r?void 0:r.filter((function(e){var r=e.viewable,t=e.slug;return r&&!a.includes(t)}))}}),[]).postTypes,{postTypesSelectOptions:_((function(){return(r||[]).map((function(e){var r=e.labels,t=e.slug;return{label:r.singular_name,value:t}}))}),[r])}).postTypesSelectOptions),l=S(),c=t.postType,f=t.month,y=t.year,j=t.order,w=t.headingTag,T=void 0===w?"h2":w,A=b((function(e){var r={per_page:-1,order:j,orderby:"date"};if(y){var t=new Date(y,f?f-1:0,1),a=new Date(y,f||11,f?0:31,23,59,59);r.after=t.toISOString(),r.before=a.toISOString()}var n=e(v).getEntityRecords("postType",c,r);return{latestPosts:Array.isArray(n)?n.map((function(e){return i({},e)})):n}}),[j,y,f,c]).latestPosts,C=!(null==A||!A.length),E=[{label:d("Select Year","x3p0-archives"),value:""}];x3p0Archives.years.length&&x3p0Archives.years.forEach((function(e){E.push({label:e,value:e})}));var N=(0,a.jsx)(k,{children:(0,a.jsxs)(g,{title:d("Archives settings","x3p0-archives"),children:[(0,a.jsx)(m,{label:d("Post Type","x3p0-archives"),value:c,onChange:function(e){return o({postType:e})},options:s}),(0,a.jsx)(m,{label:d("Order","x3p0-archives"),value:j,onChange:function(e){return o({order:e})},options:[{value:"desc",label:d("Descending","x3p0-archives")},{value:"asc",label:d("Ascending","x3p0-archives")}]}),E&&(0,a.jsx)(m,{label:d("Year","x3p0-archives"),value:y,onChange:function(e){return o({year:e,month:e?f:""})},options:E}),y&&(0,a.jsx)(m,{label:d("Month","x3p0-archives"),value:f,onChange:function(e){return o({month:e})},options:[{value:"",label:d("Select Month","x3p0-archives")},{value:"01",label:d("January","x3p0-archives")},{value:"02",label:d("February","x3p0-archives")},{value:"03",label:d("March","x3p0-archives")},{value:"04",label:d("April","x3p0-archives")},{value:"05",label:d("May","x3p0-archives")},{value:"06",label:d("June","x3p0-archives")},{value:"07",label:d("July","x3p0-archives")},{value:"08",label:d("August","x3p0-archives")},{value:"09",label:d("September","x3p0-archives")},{value:"10",label:d("October","x3p0-archives")},{value:"11",label:d("November","x3p0-archives")},{value:"12",label:d("December","x3p0-archives")}]}),(0,a.jsx)(m,{label:d("Heading HTML Element"),options:[{label:"<h1>",value:"h1"},{label:"<h2>",value:"h2"},{label:"<h3>",value:"h3"},{label:"<h4>",value:"h4"},{label:"<h5>",value:"h5"},{label:"<h6>",value:"h6"}],value:T,onChange:function(e){return o({headingTag:e})}})]})});if(!C)return(0,a.jsxs)("div",i(i({},l),{},{children:[N,(0,a.jsx)(x,{icon:n,label:d("Site Archives","x3p0-archives"),children:Array.isArray(A)?d("No posts found.","x3p0-archives"):(0,a.jsx)(O,{})})]}));var D="",F="",H=[];A.forEach((function(e,r){var t=p("Y",e.date_gmt),a=p("m",e.date_gmt);if(D!==t||F!==a){var n={year:t,month:a,date:u("F Y",e.date_gmt),posts:[]};H[t+a]=n,D=t,F=a}H[t+a].posts.push(e)})),"desc"===j&&H.reverse();var I=H.map((function(e,r){var t="";return[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T,{className:"wp-block-x3p0-archives__heading",children:(0,a.jsx)("a",{href:x3p0Archives.monthLink.replace("%year%",e.year).replace("%monthnum%",e.month),className:"wp-block-x3p0-archives__heading-link",children:e.date})}),(0,a.jsx)("ul",{className:"wp-block-x3p0-archives__list",children:e.posts.map((function(e,r){var n=p("d",e.date_gmt),o=n===t?"wp-block-x3p0-archives__post has-duplicate-day":"wp-block-x3p0-archives__post";return t=n,(0,a.jsxs)("li",{className:o,children:[(0,a.jsx)("time",{dateTime:h("c",e.date_gmt),className:"wp-block-x3p0-archives__post-day",children:u("d:",e.date_gmt)}),(0,a.jsx)("a",{href:e.link,className:"wp-block-x3p0-archives__post-link",onClick:P,rel:"noreferrer noopener",children:e.title.rendered||e.id})]},r)}))})]})]}));return(0,a.jsxs)(a.Fragment,{children:[N,(0,a.jsx)("div",i(i({},l),{},{children:I}))]})},save:function(){return null}},C=wp.blocks.registerBlockType;wp.domReady((function(){C(T,A)}))},184:(e,r)=>{var t;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var i=n.apply(null,t);i&&e.push(i)}}else if("object"===o)if(t.toString===Object.prototype.toString)for(var s in t)a.call(t,s)&&t[s]&&e.push(s);else e.push(t.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(r,[]))||(e.exports=t)}()},644:()=>{},857:()=>{},251:(e,r,t)=>{"use strict";t(424);var a=t(804),n=60103;if(r.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;n=o("react.element"),r.Fragment=o("react.fragment")}var i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var a,o={},c=null,p=null;for(a in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(p=r.ref),r)s.call(r,a)&&!l.hasOwnProperty(a)&&(o[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===o[a]&&(o[a]=r[a]);return{$$typeof:n,type:e,key:c,ref:p,props:o,_owner:i.current}}r.jsx=c,r.jsxs=c},893:(e,r,t)=>{"use strict";e.exports=t(251)},424:e=>{"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(e){return r[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,l=n(e),c=1;c<arguments.length;c++){for(var p in i=Object(arguments[c]))t.call(i,p)&&(l[p]=i[p]);if(r){s=r(i);for(var u=0;u<s.length;u++)a.call(i,s[u])&&(l[s[u]]=i[s[u]])}}return l}},804:e=>{"use strict";e.exports=React}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var o=t[e]={exports:{}};return r[e](o,o.exports,a),o.exports}a.m=r,e=[],a.O=(r,t,n,o)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){for(var[t,n,o]=e[c],s=!0,l=0;l<t.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](t[l])))?t.splice(l--,1):(s=!1,o<i&&(i=o));s&&(e.splice(c--,1),r=n())}return r}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,n,o]},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={103:0,826:0,938:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var n,o,[i,s,l]=t,c=0;for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(l)var p=l(a);for(r&&r(t);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return a.O(p)},t=self.webpackChunkx3p0_archives=self.webpackChunkx3p0_archives||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})(),a.O(void 0,[826,938],(()=>a(712))),a.O(void 0,[826,938],(()=>a(644)));var n=a.O(void 0,[826,938],(()=>a(857)));n=a.O(n)})();